when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"yarn-berry","install_id":"yarn-berry","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"]}],"name":"yarn-berry"},{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"yarn","install_id":"yarn","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"]}],"name":"yarn"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 09 Feb 2026 21:59:34 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '6941'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: YiLO8gj7oAMEVkA=
  body: '{"items":[{"name":"yarn-berry","page":{"page":942779,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/hbk6h035y49v63qibc6qq19g98knhfpp-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/k9bh72bpyqjnfq1nd3c6p1z2ijkx2yg6-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:41:11.469966Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/9igy1ni64p9flk9sqg7y0m3jm0a93nqy-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/mcvbqzb1kir87g5pm5624c5ysnfh89wp-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:14:13.235861Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/nq80zy6h66d53bw2zbf91mas91bjy06y-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/hn3j954rlcc0gx8nm41sgfzbx0qwfq3c-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:46:49.689894Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/8mnhmjvvp117dgwgcajxx9mq9kg7vh63-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/2pmvaaggpi7ikx9xmhy3x2j0rpklaqrv-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:23:51.158261Z","cache_uri":null,"install_id":"yarn-berry"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]},{"name":"yarn","page":{"page":942779,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"yarn","pkg_path":"yarn","derivation":"/nix/store/fi4hvw03w4gipnac2j9dnf3c7nqjzr61-yarn-1.22.22.drv","name":"yarn-1.22.22","pname":"yarn","version":"1.22.22","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/0cd64z50gqis8fcvcixhifd3c093gxma-yarn-1.22.22"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management for javascript","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:41:11.462525Z","cache_uri":null,"install_id":"yarn"},{"catalog":"nixpkgs","attr_path":"yarn","pkg_path":"yarn","derivation":"/nix/store/6iniyk0ycgwbnvzjp4bxd67gr3qz74jd-yarn-1.22.22.drv","name":"yarn-1.22.22","pname":"yarn","version":"1.22.22","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/r26rphs7kpljdnshd1nci1g5qjw0ayn2-yarn-1.22.22"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management for javascript","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:14:13.226856Z","cache_uri":null,"install_id":"yarn"},{"catalog":"nixpkgs","attr_path":"yarn","pkg_path":"yarn","derivation":"/nix/store/zcwvrvp4vmfgwk8i986hc3rcjzingcf8-yarn-1.22.22.drv","name":"yarn-1.22.22","pname":"yarn","version":"1.22.22","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/n78iwihflnr0c8bf0xyhvm6nivq0yng2-yarn-1.22.22"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management for javascript","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:46:49.682937Z","cache_uri":null,"install_id":"yarn"},{"catalog":"nixpkgs","attr_path":"yarn","pkg_path":"yarn","derivation":"/nix/store/vasn9z24jhkgnz0ipzjyzgxffcs3hcy1-yarn-1.22.22.drv","name":"yarn-1.22.22","pname":"yarn","version":"1.22.22","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/5yc7qn8vaawl2v2gqd0rv2igir9wasg3-yarn-1.22.22"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management for javascript","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:23:51.149989Z","cache_uri":null,"install_id":"yarn"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
---
when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"yarn-berry","install_id":"yarn-berry","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"nodejs","install_id":"nodejs","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"]}],"name":"yarn"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 09 Feb 2026 21:59:35 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '7561'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: YiLPCjk9IAMEbPA=
  body: '{"items":[{"name":"yarn","page":{"page":942779,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/hbk6h035y49v63qibc6qq19g98knhfpp-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/k9bh72bpyqjnfq1nd3c6p1z2ijkx2yg6-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:41:11.469966Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/9igy1ni64p9flk9sqg7y0m3jm0a93nqy-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/mcvbqzb1kir87g5pm5624c5ysnfh89wp-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:14:13.235861Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/nq80zy6h66d53bw2zbf91mas91bjy06y-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/hn3j954rlcc0gx8nm41sgfzbx0qwfq3c-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:46:49.689894Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"yarn-berry","pkg_path":"yarn-berry","derivation":"/nix/store/8mnhmjvvp117dgwgcajxx9mq9kg7vh63-yarn-berry-4.12.0.drv","name":"yarn-berry-4.12.0","pname":"yarn-berry","version":"4.12.0","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/2pmvaaggpi7ikx9xmhy3x2j0rpklaqrv-yarn-berry-4.12.0"}],"outputs_to_install":["out"],"description":"Fast, reliable, and secure dependency management","license":"BSD-2-Clause","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:23:51.158261Z","cache_uri":null,"install_id":"yarn-berry"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/0jp24w00c62cysdikz38xrnmxwzv0q4r-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"aarch64-darwin","outputs":[{"name":"dev","store_path":"/nix/store/ywm49y8ncwny2nr0wvs6vmaxqjiqg523-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/szvl8aalaplzshakdpyq8l5yq8q1bw66-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/67xyvmmgkisc7mr16wbpyjq2fqyz44af-nodejs-24.13.0-libv8"}],"outputs_to_install":["out","out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:38:52.145912Z","cache_uri":null,"install_id":"nodejs"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/l64r4vxgdpi0jxp27mvr9sj2c2mq2cys-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"aarch64-linux","outputs":[{"name":"dev","store_path":"/nix/store/qk4n3r5bvqzvpaq1qbpwwf47zg51wrhq-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/rpyb0275h916mxx8a0cm7yavm4qbr4j9-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/rh9dg0mdq0hnp4cbdy4zdbmy6hnhxcfh-nodejs-24.13.0-libv8"}],"outputs_to_install":["out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:11:13.022428Z","cache_uri":null,"install_id":"nodejs"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/xgryfaiwfymf8ndij80ssly7q2kdq8y1-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"x86_64-darwin","outputs":[{"name":"dev","store_path":"/nix/store/rp55bch0hqxynmxnh7q5bs586kp0dib6-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/xhp1pnnq7hski7hwg36vw7kpxmg56khh-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/dvl504xzwklpfjngdnn6kcpriklwsf6l-nodejs-24.13.0-libv8"}],"outputs_to_install":["out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:44:37.493268Z","cache_uri":null,"install_id":"nodejs"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/qk40027pvikybl0lvr1wmia9n8ljf99c-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"x86_64-linux","outputs":[{"name":"dev","store_path":"/nix/store/hc7fav9y6ai53nqbbpjxprwnkakl1w2d-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/9cyx2v23dip6p9q98384k9v06c96qskb-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/z7m56hl4rzdrfhnnkwig0ibzs1qz1x5d-nodejs-24.13.0-libv8"}],"outputs_to_install":["out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:20:55.548285Z","cache_uri":null,"install_id":"nodejs"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
