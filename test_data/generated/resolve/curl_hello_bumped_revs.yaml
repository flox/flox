when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","install_id":"hello","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","install_id":"hello","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","install_id":"hello","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","install_id":"hello","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
    - name: date
      value: Mon, 12 May 2025 14:47:32 GMT
    - name: content-type
      value: application/json
    - name: server
      value: uvicorn
    - name: apigw-requestid
      value: KdaAthJfoAMEaoQ=
  body: '{"items":[{"name":"toplevel","page":{"page":793858,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/vdyh7cx27q7mga5i15cqlkj3rl4q1zm7-curl-8.12.1.drv","name":"curl-8.12.1","pname":"curl","version":"8.12.1","system":"aarch64-darwin","outputs":[{"name":"bin","store_path":"/nix/store/krgqarvv8y1xr2f7z5vxxva3nn7d1x8l-curl-8.12.1-bin"},{"name":"dev","store_path":"/nix/store/8rsm3wrn90wm3h9bcr44j2z5g3qlnq8w-curl-8.12.1-dev"},{"name":"man","store_path":"/nix/store/nxxww0dn65fw7aky9zvghsykr0syb8lg-curl-8.12.1-man"},{"name":"out","store_path":"/nix/store/r011ii30b9gphcrwppszgv9bnd6d605r-curl-8.12.1"},{"name":"devdoc","store_path":"/nix/store/mcxbd00pvp9z2p3baqjypiirrnxyqn1i-curl-8.12.1-devdoc"}],"outputs_to_install":["bin","man"],"description":"Command
    line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:19:28.723054Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/yq3cgczhqmmrwclib223sw30cv5bjnsp-curl-8.12.1.drv","name":"curl-8.12.1","pname":"curl","version":"8.12.1","system":"aarch64-linux","outputs":[{"name":"bin","store_path":"/nix/store/hvlljyxp5xzrv719f5j7m7gnyb87mx41-curl-8.12.1-bin"},{"name":"dev","store_path":"/nix/store/npbpw2121z4akxngf176q1mdlxfkwv0j-curl-8.12.1-dev"},{"name":"man","store_path":"/nix/store/cb83qlmflk1w18ndysbbm9hvg053w3f6-curl-8.12.1-man"},{"name":"out","store_path":"/nix/store/gy6v84p7iy8p2wy7w0qh56vbqwz446kk-curl-8.12.1"},{"name":"debug","store_path":"/nix/store/z8lpvdvih1mspz5j1lsbgagsjpl2wizw-curl-8.12.1-debug"},{"name":"devdoc","store_path":"/nix/store/r6kp2rzlm8vfflnzrhsf21b20ixgmpfp-curl-8.12.1-devdoc"}],"outputs_to_install":["bin","man"],"description":"Command
    line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:37:19.728134Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/fq1birpdcm24zlsq0hnhq7sbaalyjzj1-curl-8.12.1.drv","name":"curl-8.12.1","pname":"curl","version":"8.12.1","system":"x86_64-darwin","outputs":[{"name":"bin","store_path":"/nix/store/3nm8cgv7xg1qadvgcshmvspmsr7frvp2-curl-8.12.1-bin"},{"name":"dev","store_path":"/nix/store/vij71byxpyrpxsyvb6z4vh75hj51la5f-curl-8.12.1-dev"},{"name":"man","store_path":"/nix/store/4aphz90jsdfzx5cfzl5nfnml7czswg09-curl-8.12.1-man"},{"name":"out","store_path":"/nix/store/fswhs12ddagbw24a1gr0rv7sm7aqj7c1-curl-8.12.1"},{"name":"devdoc","store_path":"/nix/store/6zf74b4kalqx1653vwsv7vpng113igi7-curl-8.12.1-devdoc"}],"outputs_to_install":["bin","man"],"description":"Command
    line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:54:29.343462Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/c7phcbkl7nzja980jnyy0g1dni8qb782-curl-8.12.1.drv","name":"curl-8.12.1","pname":"curl","version":"8.12.1","system":"x86_64-linux","outputs":[{"name":"bin","store_path":"/nix/store/16g6gyg131k8vgna13ilb4v9msh5fmi9-curl-8.12.1-bin"},{"name":"dev","store_path":"/nix/store/0rnns5hhxpvx08p0k3j6bhivj70y6wli-curl-8.12.1-dev"},{"name":"man","store_path":"/nix/store/y8h3k07g8hpbs8ifx6vxlbh2kfpl4m65-curl-8.12.1-man"},{"name":"out","store_path":"/nix/store/kmq714baxkd5yzpnbp09b7dhnks6m74q-curl-8.12.1"},{"name":"debug","store_path":"/nix/store/v7kw0dv1r94d7xjknibh53wl8yqwinh8-curl-8.12.1-debug"},{"name":"devdoc","store_path":"/nix/store/mxjg45wa0ibsyzlilbiiy3hqbpn5zfxw-curl-8.12.1-devdoc"}],"outputs_to_install":["bin","man"],"description":"Command
    line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T05:15:54.570484Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/i73phvv23dxc05czdz3069bk46q5ghm2-hello-2.12.1.drv","name":"hello-2.12.1","pname":"hello","version":"2.12.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/rx1fzrw5bzj2cys6xk5av1v5c6ibh3cr-hello-2.12.1"}],"outputs_to_install":["out"],"description":"Program
    that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:19:29.412765Z","cache_uri":null,"install_id":"hello"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/8ki4hqm7x69bw9inlfjblbx66zmh0m4m-hello-2.12.1.drv","name":"hello-2.12.1","pname":"hello","version":"2.12.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/76plgdn1gbaxh0br5xbc6c7pmc3j6rmk-hello-2.12.1"}],"outputs_to_install":["out"],"description":"Program
    that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:37:21.264717Z","cache_uri":null,"install_id":"hello"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/8zbk0zbw7whv42h3qsbx7c0bqhfy8q5z-hello-2.12.1.drv","name":"hello-2.12.1","pname":"hello","version":"2.12.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/pmvrzc5w8wv71j1d2m74qfnjg81py437-hello-2.12.1"}],"outputs_to_install":["out"],"description":"Program
    that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:54:30.077562Z","cache_uri":null,"install_id":"hello"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/iqbwkm8mjjjlmw6x6ry9rhzin2cp9372-hello-2.12.1.drv","name":"hello-2.12.1","pname":"hello","version":"2.12.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/9bwryidal9q3g91cjm6xschfn4ikd82q-hello-2.12.1"}],"outputs_to_install":["out"],"description":"Program
    that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3deadbeef","rev":"979daf34c8cacebcd917d540070b52a3deadbeef","rev_count":793858,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T05:15:56.287354Z","cache_uri":null,"install_id":"hello"}],"messages":[],"complete":true},"messages":[]}]}'
