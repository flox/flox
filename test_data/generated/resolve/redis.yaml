when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"netcat","install_id":"netcat","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"netcat","install_id":"netcat","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"netcat","install_id":"netcat","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"netcat","install_id":"netcat","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"redis","install_id":"redis","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"redis","install_id":"redis","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"redis","install_id":"redis","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"redis","install_id":"redis","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Fri, 07 Nov 2025 21:33:32 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '8523'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: TsTS7iryIAMEMiA=
  body: '{"items":[{"name":"toplevel","page":{"page":888552,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"netcat","pkg_path":"netcat","derivation":"/nix/store/xhc5iaayyhis832id8s2yi62icrf7vzb-libressl-4.2.0.drv","name":"libressl-4.2.0","pname":"netcat","version":"4.2.0","system":"aarch64-darwin","outputs":[{"name":"nc","store_path":"/nix/store/ifv47f8qp6awh42dyqp4zf768mrx1y8i-libressl-4.2.0-nc"},{"name":"bin","store_path":"/nix/store/jc7j902b83vpzj9k9403lhcracbb0fch-libressl-4.2.0-bin"},{"name":"dev","store_path":"/nix/store/vrwnaw37418m483a9kpi3xhyszr1b0xv-libressl-4.2.0-dev"},{"name":"man","store_path":"/nix/store/ql46ddl2bfl0wagw6dm4ps2vy6bpwzlb-libressl-4.2.0-man"},{"name":"out","store_path":"/nix/store/0n9hqhhva7zdr441nk9aa0h10ngrg8d5-libressl-4.2.0"}],"outputs_to_install":["bin","man"],"description":"Utility which reads and writes data across network connections — LibreSSL implementation","license":"[ Public Domain, BSD-4-Clause, 0BSD, BSD-3-Clause, GPL-3.0, ISC, OpenSSL ]","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-04T00:35:39.329997Z","cache_uri":null,"install_id":"netcat"},{"catalog":"nixpkgs","attr_path":"netcat","pkg_path":"netcat","derivation":"/nix/store/9k3sx3mhqjj0py6hz0pidr0cdmy203d2-libressl-4.2.0.drv","name":"libressl-4.2.0","pname":"netcat","version":"4.2.0","system":"aarch64-linux","outputs":[{"name":"nc","store_path":"/nix/store/pql5r9gbz2ph4zalhbfir9bfcl84hgxj-libressl-4.2.0-nc"},{"name":"bin","store_path":"/nix/store/za9iijgi3k9q7dbwkrvzwx2a5md0i09f-libressl-4.2.0-bin"},{"name":"dev","store_path":"/nix/store/19r2fki9is79lplffgkh6b2p42mx9bdr-libressl-4.2.0-dev"},{"name":"man","store_path":"/nix/store/kvmhvra9sjci2gl0zf4cjrj89bd4ljgs-libressl-4.2.0-man"},{"name":"out","store_path":"/nix/store/h5nm59vbks3jcvp5ddk7jr2b34pg0v9j-libressl-4.2.0"}],"outputs_to_install":["bin","man"],"description":"Utility which reads and writes data across network connections — LibreSSL implementation","license":"[ Public Domain, BSD-4-Clause, 0BSD, BSD-3-Clause, GPL-3.0, ISC, OpenSSL ]","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-05T16:29:33.443408Z","cache_uri":null,"install_id":"netcat"},{"catalog":"nixpkgs","attr_path":"netcat","pkg_path":"netcat","derivation":"/nix/store/c2gwagxvjskx3j4s2vg2ah7cjbs7isy8-libressl-4.2.0.drv","name":"libressl-4.2.0","pname":"netcat","version":"4.2.0","system":"x86_64-darwin","outputs":[{"name":"nc","store_path":"/nix/store/pb8g35f4b3nnb53q31331iqrj5glgim7-libressl-4.2.0-nc"},{"name":"bin","store_path":"/nix/store/797cm8vb5wwj7lqjcfh15g981h5c142z-libressl-4.2.0-bin"},{"name":"dev","store_path":"/nix/store/hhf8l5z8rjm9wg1qskczyqq83kbpzq2j-libressl-4.2.0-dev"},{"name":"man","store_path":"/nix/store/8nx37qgc4qggb5p9c5jpxkyh7cm2zv5x-libressl-4.2.0-man"},{"name":"out","store_path":"/nix/store/sgidx7zwq9l1rv4ipvgm6nd3338k5hjg-libressl-4.2.0"}],"outputs_to_install":["bin","man"],"description":"Utility which reads and writes data across network connections — LibreSSL implementation","license":"[ Public Domain, BSD-4-Clause, 0BSD, BSD-3-Clause, GPL-3.0, ISC, OpenSSL ]","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-05T16:55:19.053739Z","cache_uri":null,"install_id":"netcat"},{"catalog":"nixpkgs","attr_path":"netcat","pkg_path":"netcat","derivation":"/nix/store/jhzay887b5qg08diihgl8qpw54hbmgx5-libressl-4.2.0.drv","name":"libressl-4.2.0","pname":"netcat","version":"4.2.0","system":"x86_64-linux","outputs":[{"name":"nc","store_path":"/nix/store/9izny9fr91wxngcxyvz4fg817q92s7v0-libressl-4.2.0-nc"},{"name":"bin","store_path":"/nix/store/077rf7fhsjy0s486drnagz8bg9pwryw7-libressl-4.2.0-bin"},{"name":"dev","store_path":"/nix/store/26q10812fip299ijz91dpxwsa3x30i8j-libressl-4.2.0-dev"},{"name":"man","store_path":"/nix/store/d85807789szvs93v8m21byis0vaz61zr-libressl-4.2.0-man"},{"name":"out","store_path":"/nix/store/87s9zzvjm2qb97ggsngf5wfrp6gvj28x-libressl-4.2.0"}],"outputs_to_install":["bin","man"],"description":"Utility which reads and writes data across network connections — LibreSSL implementation","license":"[ Public Domain, BSD-4-Clause, 0BSD, BSD-3-Clause, GPL-3.0, ISC, OpenSSL ]","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-05T17:21:26.216843Z","cache_uri":null,"install_id":"netcat"},{"catalog":"nixpkgs","attr_path":"redis","pkg_path":"redis","derivation":"/nix/store/xdmz5d7xix353iba2bs5g6wfhcpw1pds-redis-8.2.2.drv","name":"redis-8.2.2","pname":"redis","version":"8.2.2","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/098ag56hpj05yi1a0lc5h3dabbjcak47-redis-8.2.2"}],"outputs_to_install":["out"],"description":"Open source, advanced key-value store","license":"AGPL-3.0-only","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-04T00:36:42.190168Z","cache_uri":null,"install_id":"redis"},{"catalog":"nixpkgs","attr_path":"redis","pkg_path":"redis","derivation":"/nix/store/hyx2fr1cyr6fhi9hkdb0c75v2zyi89q1-redis-8.2.2.drv","name":"redis-8.2.2","pname":"redis","version":"8.2.2","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/76fkv3lj81582lxgcpz2c5qai4dbsy7s-redis-8.2.2"}],"outputs_to_install":["out"],"description":"Open source, advanced key-value store","license":"AGPL-3.0-only","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-05T16:30:56.153840Z","cache_uri":null,"install_id":"redis"},{"catalog":"nixpkgs","attr_path":"redis","pkg_path":"redis","derivation":"/nix/store/6yq7432n91znw9r84p1rfxlmq6ffdqrw-redis-8.2.2.drv","name":"redis-8.2.2","pname":"redis","version":"8.2.2","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/jlfys7wmr257l75dsz4x0va0wp6agmyr-redis-8.2.2"}],"outputs_to_install":["out"],"description":"Open source, advanced key-value store","license":"AGPL-3.0-only","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-05T16:56:18.761447Z","cache_uri":null,"install_id":"redis"},{"catalog":"nixpkgs","attr_path":"redis","pkg_path":"redis","derivation":"/nix/store/jh9d3p8f973g7qf9pmhasndqi6gxbq9i-redis-8.2.2.drv","name":"redis-8.2.2","pname":"redis","version":"8.2.2","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/cmxzhc1q1dw301l5iwbjn3kx96vpj5am-redis-8.2.2"}],"outputs_to_install":["out"],"description":"Open source, advanced key-value store","license":"AGPL-3.0-only","locked_url":"https://github.com/flox/nixpkgs?rev=b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev":"b3d51a0365f6695e7dd5cdf3e180604530ed33b4","rev_count":888552,"rev_date":"2025-11-02T19:18:41Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-11-05T17:22:56.625405Z","cache_uri":null,"install_id":"redis"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
