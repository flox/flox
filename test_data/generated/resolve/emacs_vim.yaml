when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Sun, 28 Dec 2025 12:32:36 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '6931'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: WTJ3wguiIAMEbkw=
  body: '{"items":[{"name":"toplevel","page":{"page":916364,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/f9jw1z3a6jj1xlra07d61j90sjycr5k8-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/np588f4wzi7qbz2q3kxv0ald5dsy7xw9-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:02:31.046374Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/q42y2kgrxw9w25c1qwbd4z6dy4h6yng9-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/xrmmpvd1wvd45mh3sqibamn0lpbfkvfj-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:18:52.448742Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/6np92pazmwr67anpcdy99ihd6fgn36ih-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/1zmcg8hrnq9mkbh70dy10ymwx77sd2kx-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:34:57.432023Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/27xavgxdi43rr95mpv731q37dikf773a-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/01vlasl3qnpbgra77gq39x6qgxgfj9z4-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:51:08.468846Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/v9anykppp0g8wkinwm2w29l8r61xhzx3-vim-9.1.1869.drv","name":"vim-9.1.1869","pname":"vim","version":"9.1.1869","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/s08m1xj1p9kdqznpgnka1mhgnprxc112-vim-9.1.1869"},{"name":"xxd","store_path":"/nix/store/ps0pky9k3d5r9rbqq3vdckih8xfhw88h-vim-9.1.1869-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:04:58.863317Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/ylhqi82ixbmw4ld0chcwm0p17vxiyc1k-vim-9.1.1869.drv","name":"vim-9.1.1869","pname":"vim","version":"9.1.1869","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/zr6gjyldjzk29jwpihpclh12xy307dzm-vim-9.1.1869"},{"name":"xxd","store_path":"/nix/store/lh0vmsmbdq8fq2p1s9q2xi4bv790sai9-vim-9.1.1869-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:21:52.962280Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/bg10z1a7drjp0hdf6l75cwbly71yiwc9-vim-9.1.1869.drv","name":"vim-9.1.1869","pname":"vim","version":"9.1.1869","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/1jgbma1k1135zngkx6sg62bli71yr9gd-vim-9.1.1869"},{"name":"xxd","store_path":"/nix/store/hil2cs1dxmk3ky24xv7cwdbngzymf3cr-vim-9.1.1869-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:37:13.666402Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/f9yryx631gj4x1ffc4mvxc28kp3v98qb-vim-9.1.1869.drv","name":"vim-9.1.1869","pname":"vim","version":"9.1.1869","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/qrrvbacv3lrabr87l2fz1wc8nmp5r0zr-vim-9.1.1869"},{"name":"xxd","store_path":"/nix/store/6ib7297p80526f35ay3bmmsrycnc55ir-vim-9.1.1869-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=3e2499d5539c16d0d173ba53552a4ff8547f4539","rev":"3e2499d5539c16d0d173ba53552a4ff8547f4539","rev_count":916364,"rev_date":"2025-12-25T08:32:45Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-12-26T03:54:17.936360Z","cache_uri":null,"install_id":"vim"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
