when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 10 Feb 2026 14:48:23 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '6851'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: YkfAtgYQoAMESpw=
  body: '{"items":[{"name":"toplevel","page":{"page":942779,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/2rv1d99p8jrzh3cppw7kpirf9yhil515-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/x2rbyyj8rd25wvahmb9pqpn9b2p6i2iv-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:38:28.948315Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/8ixbwbpah2zfv45a7kqgli8fa7xizcbm-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/7ccvxcs1c38raa6j0lf3nlvnyyxiq4rl-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:10:36.395520Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/naing4icdwsb6c9ayla7kwfsg8fd2hvc-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/fziyvc25pid89hab5hq4v7kjn9674096-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:44:14.105361Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/9h6hmdm6rm2swa79p7vqi1bw2nqabijd-emacs-30.2.drv","name":"emacs-30.2","pname":"emacs","version":"30.2","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/zsn1cqx5s1vnn9dl055piph2kk6m21ph-emacs-30.2"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:20:17.282701Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/rkqr77b4xnkl4aw599yzz0xd5wm239wj-vim-9.1.2035.drv","name":"vim-9.1.2035","pname":"vim","version":"9.1.2035","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/bvzx6ygl64qidpmqrzza2gsqhy22zmmb-vim-9.1.2035"},{"name":"xxd","store_path":"/nix/store/qah763hndmx3dxrjkfab2jvq90p4xr9n-vim-9.1.2035-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:40:57.653892Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/g1nr6h88x684989j86dpskqqjlnj901b-vim-9.1.2035.drv","name":"vim-9.1.2035","pname":"vim","version":"9.1.2035","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/4vpqdcmd2f1hakwqhlvc5m4qdvffi8qs-vim-9.1.2035"},{"name":"xxd","store_path":"/nix/store/l65z34n835bb5pc1q3y2f2bcy0bw1wkg-vim-9.1.2035-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:13:54.583307Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/ikabxzy5s7k7hpjcj6d6fmnkgzmfxpq6-vim-9.1.2035.drv","name":"vim-9.1.2035","pname":"vim","version":"9.1.2035","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/98g97svfsxa9szn9g2if3kxj6jrp72py-vim-9.1.2035"},{"name":"xxd","store_path":"/nix/store/7pmfc59yaqamf3r5cjd7l6xcjf31r92x-vim-9.1.2035-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:46:36.402216Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/bkc6g7h3ak43zkqp6jclr8asiscm1g8v-vim-9.1.2035.drv","name":"vim-9.1.2035","pname":"vim","version":"9.1.2035","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/nmhy0dg2kq68pjz1z4r5c0fp6nr9sqag-vim-9.1.2035"},{"name":"xxd","store_path":"/nix/store/g8lb30sfc02i9xmsranhsrg1c5fgwild-vim-9.1.2035-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:23:32.835501Z","cache_uri":null,"install_id":"vim"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
