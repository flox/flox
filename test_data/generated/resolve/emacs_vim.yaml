when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 03 Jun 2025 16:40:49 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '6828'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: LmLOujO3oAMEMCQ=
  body: '{"items":[{"name":"toplevel","page":{"page":808478,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/ii9v7yv05nlvjlfgxmxk7pavrr9kpwy9-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/ivgxc5dyay7a3ij95b33qkr4n6k0ki2j-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T04:25:06.498069Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/17c05c1qs18kl1jgd9ncnbgynrxzcrg9-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/bic2kyfbx4dljx1b65k487qw8c8fvpfy-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T04:45:29.069683Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/sjl7910xdjzq16zaifbmmis57c6i0k44-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/6q1s884lfd99dfnbh6z7pz6v1gy96mz7-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T05:04:02.206190Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/qal6lva5n8l4k0g2hx3j4d055465ayfl-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/wn2g9fndsg8ds2r8lsar5jq6gcabi8i5-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T05:26:11.564370Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/1r184km9n60kg29659m0plbxl9s2cj17-vim-9.1.1336.drv","name":"vim-9.1.1336","pname":"vim","version":"9.1.1336","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/5ayrvmp1iwjr29b3w5w8ffqz8dl7y381-vim-9.1.1336"},{"name":"xxd","store_path":"/nix/store/wf1n1w9p5z8m83c8ms0715235bvkr4rm-vim-9.1.1336-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T04:26:03.507103Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/kqpr0mlqr1vmms3h78bhwy1api4g4k43-vim-9.1.1336.drv","name":"vim-9.1.1336","pname":"vim","version":"9.1.1336","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/49a41famnli9vrhi15a87gs4hkhrj6p5-vim-9.1.1336"},{"name":"xxd","store_path":"/nix/store/fzzq6sb7jc77g0jvlg3dnykar2ha15d4-vim-9.1.1336-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T04:46:58.855925Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/7yvvy9ff4zy5xrj2c9qxpv2r2bbd5wzy-vim-9.1.1336.drv","name":"vim-9.1.1336","pname":"vim","version":"9.1.1336","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/rsqpp8apadb4nkmnfrsgh8ka35yvwbwm-vim-9.1.1336"},{"name":"xxd","store_path":"/nix/store/pvb5hh20nk1al0xzd1w005j0bcbmmcz6-vim-9.1.1336-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T05:05:01.048551Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/s8fw3ipjy6h7jk99d97q5vpmy1a1xzii-vim-9.1.1336.drv","name":"vim-9.1.1336","pname":"vim","version":"9.1.1336","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/i5323bb72x07y56d8z2iwb589g56k2y8-vim-9.1.1336"},{"name":"xxd","store_path":"/nix/store/0jj4mmc0861dqz2h603v76rny65mjidx-vim-9.1.1336-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=910796cabe436259a29a72e8d3f5e180fc6dfacc","rev":"910796cabe436259a29a72e8d3f5e180fc6dfacc","rev_count":808478,"rev_date":"2025-05-31T12:05:15Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-02T05:27:48.688065Z","cache_uri":null,"install_id":"vim"}],"messages":[],"complete":true},"messages":[]}]}'
