when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"emacs","install_id":"emacs","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 01 Jul 2025 01:12:23 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '6851'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: NAVewgDuIAMESgA=
  body: '{"items":[{"name":"toplevel","page":{"page":822156,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/7cdvrbna6ccszkc7x3c443jvyzzhz6kc-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/pvf4glp8bwmrv201daq67w3kqlxg4277-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T04:56:14.201870Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/5m5k2nqagfc34v6l9z0mwl5zpi0yznlf-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/1bav9h4iq0l53yinjjrihmw56lj3hb52-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:19:54.189609Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/nkbvhw2i94s7h81k0kjv7d0wxxngip6d-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/fk2qvgvxydimkwp18j08d6cgzzxx5byx-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:38:12.805858Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"emacs","pkg_path":"emacs","derivation":"/nix/store/21h2jnipwkhibdz0p42yw3a9abjr4dgw-emacs-30.1.drv","name":"emacs-30.1","pname":"emacs","version":"30.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/pssj9d66mq4mrdnr9kkp8zz26nbdfsws-emacs-30.1"}],"outputs_to_install":["out"],"description":"Extensible, customizable GNU text editor","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T06:00:02.402703Z","cache_uri":null,"install_id":"emacs"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/mbg62yiwxddd5v1flkkfgnqmpdb9i85g-vim-9.1.1401.drv","name":"vim-9.1.1401","pname":"vim","version":"9.1.1401","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/23amfbnd1maxcn78q137nh7sj2wpakcw-vim-9.1.1401"},{"name":"xxd","store_path":"/nix/store/l4pr0lk2lr4risbg7yzggn9inpikx540-vim-9.1.1401-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T04:57:14.463234Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/h4lccj3gfb7y0z1r6bbspvdfzs0cy6k5-vim-9.1.1401.drv","name":"vim-9.1.1401","pname":"vim","version":"9.1.1401","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/1zh66ry3k8bkazvdw6v4pb6pp5f6h82y-vim-9.1.1401"},{"name":"xxd","store_path":"/nix/store/hp2abgk3b5h15bg6hqx2s1zxyczvgx8v-vim-9.1.1401-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:21:23.621298Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/yyh4xza365fi89pjsk2nz1wz0z839mqb-vim-9.1.1401.drv","name":"vim-9.1.1401","pname":"vim","version":"9.1.1401","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/5bhswby0qg25nbd58435yqk59f6igsag-vim-9.1.1401"},{"name":"xxd","store_path":"/nix/store/l83zph53k41xhfp1zc7jfqlsz4ili7gh-vim-9.1.1401-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:39:10.875221Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/h11ja69c4sp0ay6bxjkrf78g0ycfs15f-vim-9.1.1401.drv","name":"vim-9.1.1401","pname":"vim","version":"9.1.1401","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/cxy72qdk41k3zjs5fw1nw1whv6wf7hv2-vim-9.1.1401"},{"name":"xxd","store_path":"/nix/store/158s805sbka8vv2mwf34kjwmz7inr67m-vim-9.1.1401-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T06:01:40.065522Z","cache_uri":null,"install_id":"vim"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
