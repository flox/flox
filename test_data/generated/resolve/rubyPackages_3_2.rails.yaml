when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 10 Feb 2026 14:48:14 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '3375'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: Yke_Vh9UoAMESgw=
  body: '{"items":[{"name":"toplevel","page":{"page":873256,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/w47fg0zsifh5r8by131ck6mpgr7xjq2r-ruby3.2-rails-0.9.5.drv","name":"ruby3.2-rails-0.9.5","pname":"rails","version":"0.9.5","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/j5q7rbyir2y0n85m2fjwygsqaqndfqxq-ruby3.2-rails-0.9.5"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=8913c168d1c56dc49a7718685968f38752171c3b","rev":"8913c168d1c56dc49a7718685968f38752171c3b","rev_count":873256,"rev_date":"2025-10-06T06:46:10Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-10-08T04:41:23.136344Z","cache_uri":null,"install_id":"rails"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/f67h5amic188scxai0lrgw0v5q8vb3pd-ruby3.2-rails-0.9.5.drv","name":"ruby3.2-rails-0.9.5","pname":"rails","version":"0.9.5","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/9j3k0fm2b9k5p9d2r5mg447nhzmfin9d-ruby3.2-rails-0.9.5"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=8913c168d1c56dc49a7718685968f38752171c3b","rev":"8913c168d1c56dc49a7718685968f38752171c3b","rev_count":873256,"rev_date":"2025-10-06T06:46:10Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-10-08T04:59:59.777679Z","cache_uri":null,"install_id":"rails"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/825v4ghwkg9dm8mans35vg0hrkb3iz9a-ruby3.2-rails-0.9.5.drv","name":"ruby3.2-rails-0.9.5","pname":"rails","version":"0.9.5","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/bx11cwwmmfx1rfz5jjs8368a4jwj9n1d-ruby3.2-rails-0.9.5"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=8913c168d1c56dc49a7718685968f38752171c3b","rev":"8913c168d1c56dc49a7718685968f38752171c3b","rev_count":873256,"rev_date":"2025-10-06T06:46:10Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-10-08T05:14:59.395749Z","cache_uri":null,"install_id":"rails"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/zkzsj2k5vv7jjvwbqajyq6jy2934zvij-ruby3.2-rails-0.9.5.drv","name":"ruby3.2-rails-0.9.5","pname":"rails","version":"0.9.5","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/isxip94zkpwq20vnsq1f76jq541cc7qn-ruby3.2-rails-0.9.5"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=8913c168d1c56dc49a7718685968f38752171c3b","rev":"8913c168d1c56dc49a7718685968f38752171c3b","rev_count":873256,"rev_date":"2025-10-06T06:46:10Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-10-08T05:31:22.946804Z","cache_uri":null,"install_id":"rails"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
