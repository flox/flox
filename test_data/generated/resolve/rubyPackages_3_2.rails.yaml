when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"rails","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 12 May 2025 14:54:56 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '3424'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: KdbGDhkjoAMESuw=
  body: '{"items":[{"name":"toplevel","page":{"page":793735,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/7m2z5rp1jy0mjfmcjzg3qf7pjjp566j3-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/4272vycnpr30p2a8l7fcr26frn32pmwk-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:19:59.939969Z","cache_uri":null,"install_id":"rails"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/ifvf72psg2wx37znwnzlb6p27mwpp6vw-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/0ay736s1k5pn97imzkjmlyszfy9rb7d7-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:38:16.253039Z","cache_uri":null,"install_id":"rails"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/x1gna0gz4plidqgxz8qdmxmnafvq3xli-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/b5khaly1cbkdk8p5q6a9pc118la7gzm6-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:55:00.610938Z","cache_uri":null,"install_id":"rails"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/qzv4y0fv50nfkzh5iashafnhh8rda1d7-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/c46yidzb57p8p001dx9f5ghsgp2gf1b9-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T05:16:56.014389Z","cache_uri":null,"install_id":"rails"}],"messages":[],"complete":true},"messages":[]}]}'
