when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"curl","install_id":"curl","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","derivation":"/nix/store/msnhw2b4dcn9kbswsfz63jplf7ncnxik-hello-2.12.2.drv","install_id":"hello","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","derivation":"/nix/store/9m9ia68c5vhyldaljym648bvqp191g1p-hello-2.12.2.drv","install_id":"hello","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","derivation":"/nix/store/6532wsjjs7nhj0g9hkkf9sqqh93209g0-hello-2.12.2.drv","install_id":"hello","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"hello","derivation":"/nix/store/c7xq1hry7mx5rxr1vqwf7dhphpd7hl29-hello-2.12.2.drv","install_id":"hello","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 09 Feb 2026 21:59:16 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '8323'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: YiLMKifGIAMEbOQ=
  body: '{"items":[{"name":"toplevel","page":{"page":942779,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/vn7qyigb9aqbzk93v3yjz3zdacbp48vw-curl-8.17.0.drv","name":"curl-8.17.0","pname":"curl","version":"8.17.0","system":"aarch64-darwin","outputs":[{"name":"bin","store_path":"/nix/store/qncd2qavd8nj797izhqzyzz5q9cr5bwx-curl-8.17.0-bin"},{"name":"dev","store_path":"/nix/store/27hnypizfhndg47s81v9gvc9ywsiqq5p-curl-8.17.0-dev"},{"name":"man","store_path":"/nix/store/2swlvcnn1xrsanyd4fc8mdlmx6c216dd-curl-8.17.0-man"},{"name":"out","store_path":"/nix/store/vzv2n6g3g6ynxdzflh4s5crn6px9b0wb-curl-8.17.0"},{"name":"devdoc","store_path":"/nix/store/izi1l0h196fyaf7w06wqziq02m43acij-curl-8.17.0-devdoc"}],"outputs_to_install":["bin","man"],"description":"Command line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:38:28.662400Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/sbj1ds2n743q4zhfccjaylg7jvjp9q9n-curl-8.17.0.drv","name":"curl-8.17.0","pname":"curl","version":"8.17.0","system":"aarch64-linux","outputs":[{"name":"bin","store_path":"/nix/store/wqz5jf32ywajllzfry6gjxhddbh21lvs-curl-8.17.0-bin"},{"name":"dev","store_path":"/nix/store/638hqfczwic54cln0cavh38l1a140ij3-curl-8.17.0-dev"},{"name":"man","store_path":"/nix/store/9bpk7v03yq152wvf5rbv7pr7f5mvj7xp-curl-8.17.0-man"},{"name":"out","store_path":"/nix/store/7rls1f8815qd0b6lgicc53jwl7qs3fa2-curl-8.17.0"},{"name":"debug","store_path":"/nix/store/vwgx2lvkk8kygx6006a81qhb48f9hn7f-curl-8.17.0-debug"},{"name":"devdoc","store_path":"/nix/store/gl74x82b8xiprhpqnw86rvha06gjzk8v-curl-8.17.0-devdoc"}],"outputs_to_install":["bin","bin","man","man"],"description":"Command line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:10:35.981529Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/7f4kfgr9bwbzm3xzah75z0qii7gramff-curl-8.17.0.drv","name":"curl-8.17.0","pname":"curl","version":"8.17.0","system":"x86_64-darwin","outputs":[{"name":"bin","store_path":"/nix/store/9392lab8kdzr8ch1g2lfh63fm3gvkg77-curl-8.17.0-bin"},{"name":"dev","store_path":"/nix/store/k4vydyjfpc7j04dldqlmnc688xfzjlvv-curl-8.17.0-dev"},{"name":"man","store_path":"/nix/store/1x5mhbmgag1x0m1iqg793w3nkpa879qa-curl-8.17.0-man"},{"name":"out","store_path":"/nix/store/073hhh572b5vjk02rdyd68rqip6zfdc5-curl-8.17.0"},{"name":"devdoc","store_path":"/nix/store/h7rj1lxpqbfpd6l42rfbpby4zb1pxsjx-curl-8.17.0-devdoc"}],"outputs_to_install":["bin","man"],"description":"Command line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:44:13.802504Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"curl","pkg_path":"curl","derivation":"/nix/store/a1kpbbk1lnnaw2gl5pffs92hxm54mjpm-curl-8.17.0.drv","name":"curl-8.17.0","pname":"curl","version":"8.17.0","system":"x86_64-linux","outputs":[{"name":"bin","store_path":"/nix/store/jqfr3p49g3lch84y45jfzw9fshlv8jyp-curl-8.17.0-bin"},{"name":"dev","store_path":"/nix/store/gy73p60881n9nagq7grffjgy4ycw9a85-curl-8.17.0-dev"},{"name":"man","store_path":"/nix/store/msaigk8gy4rikyxbxiqksh8njd5dx13h-curl-8.17.0-man"},{"name":"out","store_path":"/nix/store/8ylzjm58ghiq60vklfy58j14sgryjjzw-curl-8.17.0"},{"name":"debug","store_path":"/nix/store/lhdva5pd84cx2bm7gymrm7x75m95s3gb-curl-8.17.0-debug"},{"name":"devdoc","store_path":"/nix/store/74hjnnn67f1ax4mkx4nwbcxaih6k5hrv-curl-8.17.0-devdoc"}],"outputs_to_install":["bin","bin","man","man"],"description":"Command line tool for transferring files with URL syntax","license":"curl","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:20:16.825623Z","cache_uri":null,"install_id":"curl"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/msnhw2b4dcn9kbswsfz63jplf7ncnxik-hello-2.12.2.drv","name":"hello-2.12.2","pname":"hello","version":"2.12.2","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/c12lxpykv6sld7a0sakcnr3y0la70x8w-hello-2.12.2"}],"outputs_to_install":["out"],"description":"Program that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:38:42.879408Z","cache_uri":null,"install_id":"hello"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/9m9ia68c5vhyldaljym648bvqp191g1p-hello-2.12.2.drv","name":"hello-2.12.2","pname":"hello","version":"2.12.2","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/88k6ym95dmvy36qdp4j93gw0121bpaax-hello-2.12.2"}],"outputs_to_install":["out"],"description":"Program that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:10:54.135440Z","cache_uri":null,"install_id":"hello"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/6532wsjjs7nhj0g9hkkf9sqqh93209g0-hello-2.12.2.drv","name":"hello-2.12.2","pname":"hello","version":"2.12.2","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/yh94gy8qmahsqlzk93ns0irxa23pgvjb-hello-2.12.2"}],"outputs_to_install":["out"],"description":"Program that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:44:28.318378Z","cache_uri":null,"install_id":"hello"},{"catalog":"nixpkgs","attr_path":"hello","pkg_path":"hello","derivation":"/nix/store/c7xq1hry7mx5rxr1vqwf7dhphpd7hl29-hello-2.12.2.drv","name":"hello-2.12.2","pname":"hello","version":"2.12.2","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/mi08jhbcjib1i1kgvbd0fxn2yrnzdv4a-hello-2.12.2"}],"outputs_to_install":["out"],"description":"Program that produces a familiar, friendly greeting","license":"GPL-3.0-or-later","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:20:35.446635Z","cache_uri":null,"install_id":"hello"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
