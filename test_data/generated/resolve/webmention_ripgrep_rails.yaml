when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Wed, 30 Jul 2025 17:00:27 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '10211'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: OiFishqaIAMEYoA=
  body: '{"items":[{"name":"toplevel","page":{"page":836203,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/s84yg924s8rvzd8qbnn446l39v4kq812-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/qwy8q8kkpdaap57s579n5d5w5jlg5j3r-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T00:28:37.194392Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/llws360kf1pa2q9hq6c9glqfx0n9zrpj-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/r18z9g4ws3n2rigqggj83ka2hdv25hag-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T00:48:35.290508Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/zrgjpgyiyp6fxl9inbcjl75aqmssq35c-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/vf7j7bhmkf58w435vy7404asn9w9xdnf-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T01:07:57.678707Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/nqf9jyqmwjdbzm6r6m2m213d4hyz7h3d-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/i3vnbng01b6n54bsb3j1madhbx5768rs-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T01:32:19.671140Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/96i6bxrdhfqkm42rfcsm2ahcgqvsx43v-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/6k9gig9bd8vhvz1j8nk0fhmb4n6jfz3r-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T00:28:37.344774Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/9mq8amapspk5x6jrdjqr7b8nfc2w6wv0-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/d881fwjmklys108n8c9ahlf7pymh4rns-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T00:48:35.491329Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/4b0c19c61a4f3dz7230f8zyravq50fqd-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/ij3c0723yzj15dq0m14r80c6km37mk7x-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T01:07:57.829658Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/j5706kb13ja67q3mbfmcxr49xw4ij95l-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/4fjbgi1ib7rdp9bm41641hm6r8apy9kh-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T01:32:19.878869Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/grqxqfjd29pd87r5bs3jcdh4v4w0mklg-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/md9kfvsz7axcb5b1z2yw2mybi3lhxyha-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T00:28:35.319500Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/dl7vljk8knpr2j77vvdsxd2lm75jldqx-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/slgpwy2f6j68p47hifz503251dgxb075-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T00:48:32.644721Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/v5h911h46g2r8y6am9ls2ycl0zkgava0-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/m645jkssqpw05acf1cnz037via2y0j4q-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T01:07:55.796135Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/fqp1zlda15dsg1rgfbqcl4fbd33s6gwj-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/1ijacjhy42pqx7vfi5mnsqrps2k3b8xf-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=dc9637876d0dcc8c9e5e22986b857632effeb727","rev":"dc9637876d0dcc8c9e5e22986b857632effeb727","rev_count":836203,"rev_date":"2025-07-28T09:26:29Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-07-30T01:32:16.625407Z","cache_uri":null,"install_id":"ripgrep"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
