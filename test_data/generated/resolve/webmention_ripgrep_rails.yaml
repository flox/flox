when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_missing_builds":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 12 May 2025 14:47:49 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '10308'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: KdaDSiqzIAMEbHg=
  body: '{"items":[{"name":"toplevel","page":{"page":793735,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/7m2z5rp1jy0mjfmcjzg3qf7pjjp566j3-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/4272vycnpr30p2a8l7fcr26frn32pmwk-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:19:59.939969Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/ifvf72psg2wx37znwnzlb6p27mwpp6vw-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/0ay736s1k5pn97imzkjmlyszfy9rb7d7-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:38:16.253039Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/x1gna0gz4plidqgxz8qdmxmnafvq3xli-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/b5khaly1cbkdk8p5q6a9pc118la7gzm6-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:55:00.610938Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/qzv4y0fv50nfkzh5iashafnhh8rda1d7-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/c46yidzb57p8p001dx9f5ghsgp2gf1b9-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T05:16:56.014389Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/z6pqcac2zh7xy1idd38szmr7fr3rp60d-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/y4i3yvi7fsxagzhbl0vl7qyvl8qrq462-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:20:00.091891Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/81q1410r0h034kz6vkrahxm0arddv7wj-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/7kjrqi8v25vnjp2v5w3128k8x4hchqqm-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:38:16.463207Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/x1g5lndfppsrln134g1v1b11cfnjym29-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/xinhx2lcjkzh0frh4hsf4b458fm95nna-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:55:00.761793Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/c6s4aq1lyf654wjqhgnyz4nw70vpzznv-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/93gxb8x2l0w40lk15pwx5cxv8v0vg54k-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T05:16:56.233270Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/kibagilmw8yl31lwkbjf4mfw9lxgmijq-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/sww176gkmj1mb9ad1zcw6mwvkz4r49w5-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:19:58.067751Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/d3mcmxy4bqzqc4l33yx4zi76ffxd9599-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/5cc1d6lb9r52lwbwfkck7p7sxzi9sqbn-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:38:13.370249Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/9aa1rl27ay8x4k3g1v2kafiamqvr8k9g-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/58v85r64y0nxl43s4jcy56b3ip6xws9l-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T04:54:58.739943Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/52c3li7cn3lbhmnb4w2yiyjmf65l5zaw-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/12q5d8802sxmf7zv6fqf984r8khffj40-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=979daf34c8cacebcd917d540070b52a3c2b9b16e","rev":"979daf34c8cacebcd917d540070b52a3c2b9b16e","rev_count":793735,"rev_date":"2025-05-04T03:14:55Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-05-05T05:16:52.685230Z","cache_uri":null,"install_id":"ripgrep"}],"messages":[],"complete":true},"messages":[]}]}'
