when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.rails","install_id":"bar","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"rubyPackages_3_2.webmention","install_id":"foo","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"ripgrep","install_id":"ripgrep","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 01 Jul 2025 01:11:56 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '10211'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: NAVaViTYoAMESJw=
  body: '{"items":[{"name":"toplevel","page":{"page":822156,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/1fqwmw91dkys8asqpgc1vmg0whmdzv9k-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/2c60fsf20c9881b1i3j18c6r15783hzv-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T04:56:46.585098Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/qrnx5r8p3kfmfjclc9bfxpf1q57bj3js-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/ysi0bjmxh1vckbwifw3wf5q8vqzasgzd-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:20:48.009521Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/5pcz6zbad57z63g8rk4xzvyjcnsiwg8m-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/5d4zic9vhmryx5q0wspfjinirz90ka0n-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:38:44.309842Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.rails","pkg_path":"rubyPackages_3_2.rails","derivation":"/nix/store/m23dw9cjpi2adg66xng660jshhwm1zmw-ruby3.2-rails-7.2.2.1.drv","name":"ruby3.2-rails-7.2.2.1","pname":"rails","version":"7.2.2.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/la5m146k6lcfvrr62pdbfhjfcphcgsiz-ruby3.2-rails-7.2.2.1"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T06:01:01.965242Z","cache_uri":null,"install_id":"bar"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/80l7sxm92lknhpvayl85y650q53jxj3z-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/xk8smh2glqi0a6xlg3ch5dpqhbya1jgs-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T04:56:46.739518Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/glqx4dy1apskr8a80hpf74426i664m4l-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/k9kc108gcqyca74z9dqw1c6ad7lv13v2-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:20:48.208287Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/lbs5946b4h9ylmbfqy3hwsc78bjw6fjy-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/gh6gq3g3jg10gff9csiba8g3hhcsri8g-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:38:44.459914Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"rubyPackages_3_2.webmention","pkg_path":"rubyPackages_3_2.webmention","derivation":"/nix/store/05camfahs6lh5j0645kjwx5vd9nnl78w-ruby3.2-webmention-7.0.0.drv","name":"ruby3.2-webmention-7.0.0","pname":"webmention","version":"7.0.0","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/km7g46incghkyvc1qg1kxljms9mcrs6f-ruby3.2-webmention-7.0.0"}],"outputs_to_install":["out"],"description":null,"license":null,"locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T06:01:02.180948Z","cache_uri":null,"install_id":"foo"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/7c17l5wgin8r5b916xasf2gia7h4drzc-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/xygyyr4jqazmdmqf9x5pqkxnkcp9w0h8-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T04:56:44.665316Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/zrjf0bsxc2ml5l311vq89rq8b398zj3h-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/7sbb7svbf8i6ffyyygn8siak2mbync0l-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:20:45.375402Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/lzkw7xdsbxpk74bqyjlw2v9fd25fying-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/p1avxlcrjpk93mfbzbkbwgcgxyj0avlc-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T05:38:42.442237Z","cache_uri":null,"install_id":"ripgrep"},{"catalog":"nixpkgs","attr_path":"ripgrep","pkg_path":"ripgrep","derivation":"/nix/store/4agcpn8r3l24qd37a5m5xpzgdafgl3iz-ripgrep-14.1.1.drv","name":"ripgrep-14.1.1","pname":"ripgrep","version":"14.1.1","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/w2m5zrz3sla0bz1fmq2z9r2p0jbz4n9j-ripgrep-14.1.1"}],"outputs_to_install":["out"],"description":"Utility that combines the usability of The Silver Searcher with the raw speed of grep","license":"[ Unlicense, MIT ]","locked_url":"https://github.com/flox/nixpkgs?rev=30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev":"30e2e2857ba47844aa71991daa6ed1fc678bcbb7","rev_count":822156,"rev_date":"2025-06-27T08:03:01Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-06-29T06:00:58.872377Z","cache_uri":null,"install_id":"ripgrep"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
