when:
  path: /api/v1/catalog/search
  method: GET
then:
  status: 200
  header:
  - name: date
    value: Tue, 10 Feb 2026 14:48:04 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '3177'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: Yke9ojBPoAMEaFg=
  body: '{"items":[{"attr_path":"nodejs_14","catalog":null,"pkg_path":"nodejs_14","name":"nodejs-14.21.3","pname":"nodejs_14","version":"14.21.3","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_16","catalog":null,"pkg_path":"nodejs_16","name":"nodejs-16.20.2","pname":"nodejs_16","version":"16.20.2","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_18","catalog":null,"pkg_path":"nodejs_18","name":"nodejs-18.20.8","pname":"nodejs_18","version":"18.20.8","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_19","catalog":null,"pkg_path":"nodejs_19","name":"nodejs-19.9.0","pname":"nodejs_19","version":"19.9.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_20","catalog":null,"pkg_path":"nodejs_20","name":"nodejs-20.20.0","pname":"nodejs_20","version":"20.20.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_21","catalog":null,"pkg_path":"nodejs_21","name":"nodejs-21.7.3","pname":"nodejs_21","version":"21.7.3","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_22","catalog":null,"pkg_path":"nodejs_22","name":"nodejs-22.22.0","pname":"nodejs_22","version":"22.22.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_23","catalog":null,"pkg_path":"nodejs_23","name":"nodejs-23.11.0","pname":"nodejs_23","version":"23.11.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_24","catalog":null,"pkg_path":"nodejs_24","name":"nodejs-24.13.0","pname":"nodejs_24","version":"24.13.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_25","catalog":null,"pkg_path":"nodejs_25","name":"nodejs-25.6.0","pname":"nodejs_25","version":"25.6.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"nodejs_latest","catalog":null,"pkg_path":"nodejs_latest","name":"nodejs-25.6.0","pname":"nodejs_latest","version":"25.6.0","description":"Event-driven I/O framework for the V8 JavaScript engine","stabilities":[],"system":"x86_64-linux"},{"attr_path":"haxePackages.hxnodejs_4","catalog":null,"pkg_path":"haxePackages.hxnodejs_4","name":"hxnodejs-4.0.9","pname":"hxnodejs_4","version":"4.0.9","description":"Extern definitions for node.js 4.x","stabilities":[],"system":"x86_64-linux"},{"attr_path":"haxePackages.hxnodejs_6","catalog":null,"pkg_path":"haxePackages.hxnodejs_6","name":"hxnodejs-6.9.0","pname":"hxnodejs_6","version":"6.9.0","description":"Extern definitions for node.js 6.9","stabilities":[],"system":"x86_64-linux"}],"total_count":13}'
---
when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"nodejs","install_id":"nodejs","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"nodejs","install_id":"nodejs","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"nodejs","install_id":"nodejs","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"nodejs","install_id":"nodejs","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 10 Feb 2026 14:48:04 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '4185'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: Yke9ugHfoAMEaZw=
  body: '{"items":[{"name":"toplevel","page":{"page":942779,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/0jp24w00c62cysdikz38xrnmxwzv0q4r-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"aarch64-darwin","outputs":[{"name":"dev","store_path":"/nix/store/ywm49y8ncwny2nr0wvs6vmaxqjiqg523-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/szvl8aalaplzshakdpyq8l5yq8q1bw66-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/67xyvmmgkisc7mr16wbpyjq2fqyz44af-nodejs-24.13.0-libv8"}],"outputs_to_install":["out","out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T04:38:52.145912Z","cache_uri":null,"install_id":"nodejs"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/l64r4vxgdpi0jxp27mvr9sj2c2mq2cys-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"aarch64-linux","outputs":[{"name":"dev","store_path":"/nix/store/qk4n3r5bvqzvpaq1qbpwwf47zg51wrhq-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/rpyb0275h916mxx8a0cm7yavm4qbr4j9-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/rh9dg0mdq0hnp4cbdy4zdbmy6hnhxcfh-nodejs-24.13.0-libv8"}],"outputs_to_install":["out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:11:13.022428Z","cache_uri":null,"install_id":"nodejs"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/xgryfaiwfymf8ndij80ssly7q2kdq8y1-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"x86_64-darwin","outputs":[{"name":"dev","store_path":"/nix/store/rp55bch0hqxynmxnh7q5bs586kp0dib6-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/xhp1pnnq7hski7hwg36vw7kpxmg56khh-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/dvl504xzwklpfjngdnn6kcpriklwsf6l-nodejs-24.13.0-libv8"}],"outputs_to_install":["out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T05:44:37.493268Z","cache_uri":null,"install_id":"nodejs"},{"catalog":"nixpkgs","attr_path":"nodejs","pkg_path":"nodejs","derivation":"/nix/store/qk40027pvikybl0lvr1wmia9n8ljf99c-nodejs-24.13.0.drv","name":"nodejs-24.13.0","pname":"nodejs","version":"24.13.0","system":"x86_64-linux","outputs":[{"name":"dev","store_path":"/nix/store/hc7fav9y6ai53nqbbpjxprwnkakl1w2d-nodejs-24.13.0-dev"},{"name":"out","store_path":"/nix/store/9cyx2v23dip6p9q98384k9v06c96qskb-nodejs-24.13.0"},{"name":"libv8","store_path":"/nix/store/z7m56hl4rzdrfhnnkwig0ibzs1qz1x5d-nodejs-24.13.0-libv8"}],"outputs_to_install":["out"],"description":"Event-driven I/O framework for the V8 JavaScript engine","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=d6c71932130818840fc8fe9509cf50be8c64634f","rev":"d6c71932130818840fc8fe9509cf50be8c64634f","rev_count":942779,"rev_date":"2026-02-08T14:52:16Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2026-02-09T06:20:55.548285Z","cache_uri":null,"install_id":"nodejs"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
